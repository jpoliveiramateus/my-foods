'use strict';

var isReactReduxConnect = require('../isReactReduxConnect');

var argumentNames = ['mapStateToProps', 'mapDispatchToProps', 'mergeProps', 'options'];

var report = function report(context, node, i) {
  context.report({
    message: `Connect function argument #${i} should be named ${argumentNames[i]}`,
    node
  });
};

module.exports = function (context) {
  return {
    CallExpression(node) {
      if (isReactReduxConnect(node)) {
        node.arguments.forEach(function (argument, i) {
          if (argument.raw && argument.raw !== 'null') {
            report(context, node, i);
          } else if (!argument.raw && argumentNames[i] && (!argument.name || argument.name !== argumentNames[i])) {
            report(context, node, i);
          }
        });
      }
    }
  };
};